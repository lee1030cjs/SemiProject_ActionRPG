(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["SendObjectWrapperCommon"],{"+zF7":function(e,t,n){var a=n("LqyK"),i=n("TN0d"),r=n("eOdZ"),o=n("G35+"),s=n("dwea"),c=n("mBfy");function l(){}Object.assign(l.prototype,{handleConnect(e,t,n){if(t&&!c.default.isLimitedLogin()){const i={success:function(a){const i={network:e,data:a};this._internalConnectNetwork(t,i,n)}.bind(this),error(e){n.error&&n.error(e)},complete(){n.complete&&n.complete()}};"dropbox"===e?i.windowOptions="width=600,height=800":"instagram"===e?i.windowOptions=a.default.getWindowOptions(580,580):"etsy"===e?i.windowOptions=a.default.getWindowOptions(580,775):"youtube"===e&&(i.windowOptions=a.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,i)}else{const a={network:e};this._internalConnectNetwork(t,a,n)}},updateConnectStatus(){r.a.create("UserResource",{user_id:c.default.get("id"),username:c.default.get("username"),field_set_key:"social_connect"}).callGet().then(e=>{const t=e.resource_response.data;c.default.set(t),i.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork(e,t,n){t?o.a.instance().connect(e,n):n.success&&n.success({})},_internalConnectNetwork(e,t,n){const a=r.a.create("UserSocialNetworkResource",t);(e?a.callCreate():a.callDelete()).then(e=>{this.updateConnectStatus(),n.success&&n.success(e)},e=>{n.error&&e instanceof Object&&n.error(e)}).finally(()=>{n.complete&&n.complete()})},_getResourceNameForNetworkFriends(e){let t=null;switch(e){case o.a.FACEBOOK:t="UserFacebookFriendsResource";break;case o.a.TWITTER:t="UserTwitterFriendsResource";break;case o.a.GOOGLE:t="UserGmailFriendsResource";break;case o.a.MICROSOFT:t="UserMicrosoftFriendsResource";break;default:return}return t},pollForFriends(e,t){const n=(t=t||{}).resourceOptions||{},a=this._getResourceNameForNetworkFriends(e);if(!a)return;const i=r.a.create(a,n);i.callGet({showError:!1}).then(()=>{const e=t.success;e&&e(i)},n=>{if(110===n.api_error_code)s.a.setTimeout(()=>{this.pollForFriends(e,t)},1e3);else{const e=t.error;e&&e()}})}});let d=null;l.instance=function(){return d||(d=new l),d},t.a=l},"0SCs":function(e,t,n){var a=n("q1tI");function i(e){return e.startsWith("enabled")||e.startsWith("employee")}function r(e,{activate:t=!0,activateExperiment:n,group:r,userIsEligible:o=!0}){t&&o&&n(e);const s=Object(a.useCallback)(()=>{o&&n(e)},[n,o,e]);return{group:o?r:"",anyEnabled:o&&i(r),customActivate:o&&!t?s:()=>{}}}var o=n("pLLR");function s(e,t=!0){const{experiments:n}=Object(o.d)(),{group:a,anyEnabled:i}=r(e,{activate:!0,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:a,anyEnabled:i}}function c(e,t=!0){const{experiments:n}=Object(o.d)(),{group:a,anyEnabled:i}=r(e,{activate:!1,activateExperiment:()=>{},group:n.v2GetGroup(e)||"",userIsEligible:t});return{group:a,anyEnabled:i}}function l(e,t=!0){const{experiments:n}=Object(o.d)();return r(e,{activate:!1,activateExperiment:e=>{n.v2ActivateExperiment(e)},group:n.v2GetGroup(e)||"",userIsEligible:t})}n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}))},"0rqB":function(e,t,n){var a=n("q1tI"),i=n.n(a),r=n("clxp"),o=n("n6mq");const s="#0f0",c="#00f",l="#999";function d({children:e,group:t,isEligible:n,name:a,performsActivate:r}){let d=r?s:c;return n||(d=l),i.a.createElement(o.c,{position:"relative"},e,i.a.createElement(o.c,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{boxShadow:`0 0 2px 2px ${d}`,borderRadius:5}}}),i.a.createElement(o.c,{position:"absolute",top:!0,left:!0,color:"lightGray"},a,": ",t))}var u=n("NVsV");function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return m}));class p extends a.PureComponent{constructor(...e){super(...e),h(this,"handleCustomActivate",()=>{const{activateExperiment:e,isEligible:t,name:n}=this.props;return t?e(n):""}),h(this,"attachDebugging",e=>{const{activate:t,name:n,isEligible:a,highlighted:r}=this.props,o=this.getGroup();return r?i.a.createElement(d,{group:o,isEligible:a,name:n,performsActivate:t},e):e})}componentDidMount(){const{activate:e,activateExperiment:t,isEligible:n,name:a}=this.props;e&&n&&t(a)}getGroup(){const{group:e,overrideGroup:t}=this.props;return"string"==typeof t?t:e}render(){const{activate:e,name:t,children:n,isEligible:a}=this.props,o=this.getGroup(),s=`Experiment(${t}:${o})`,c=!!a&&(o.startsWith("enabled")||o.startsWith("employee")),l={group:a?o:"",anyEnabled:c,customActivate:a&&!e?this.handleCustomActivate:null};return this.attachDebugging(i.a.createElement(r.a,{name:s},n(l)))}}function m(e){const{name:t}=e,{debuggingEnabled:n,overriddenExperiments:r,highlightedExperiment:o,setExperimentVisible:s}=Object(a.useContext)(u.c),c=n&&r&&"string"==typeof r[t]?r[t]:null,l=n&&(o===t||o===u.a);return Object(a.useEffect)(()=>{if(n)return s(t,!0),()=>s(t,!1)},[t,n]),i.a.createElement(p,Object.assign({},e,{overrideGroup:c,highlighted:l}))}h(p,"defaultProps",{activate:!0,isEligible:!0,overrideGroup:null,highlighted:!1})},"1sx7":function(e,t,n){},"6tKR":function(e,t,n){n.r(t);var a=n("IUnB"),i=n.n(a);const r={ready:function(e,t){i.a.ready(e,t)},load:function(e,t,n){r.ready(e,()=>{0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),i()(t,n)})},done:function(e){i.a.done(e)}};t.default=r},"8ane":function(e,t,n){n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n("TSYQ"),r=n.n(i),o=n("Ye/N"),s=(n("17x9"),n("xdpg"));function c({email:e,isValid:t,onClick:n,showSendEmailText:i}){const c=t?a.createElement("div",{className:"icon"},e[0].toUpperCase()):a.createElement("div",{className:r()("icon","typingEmail")},a.createElement("em",null)),l=t?o.a._("Click to send!"):o.a._("Keep typing!"),d=i?Object(s.c)(o.a._("Email {{ email }}"),{email:e}):Object(s.c)(o.a._("Invite {{ email }}"),{email:e});return a.createElement("div",{className:r()("sendToEmail",{unclickable:!t})},a.createElement("a",{className:"selectableEmailItem",onClick:()=>{t&&n()},role:"button"},a.createElement("div",{className:"left"},c),a.createElement("div",{className:"right"},a.createElement("h4",{className:"title"},d),a.createElement("p",{className:"subtitle"},l))))}},AHhP:function(e,t){const n={},a=function(e,t){let n=!1;return function(...a){n||(n=!0,e.apply(this,a),t&&t())}},i=function(e,t){e.__listeners=t},r=function(e,t){return!e.__listeners&&t&&i(e,[]),e.__listeners},o=function(e,t){return!e.__handlers&&t&&(e.__handlers={}),e.__handlers},s=function e(t,n,a){let i,r,o=[];if("string"==typeof t)for(i=t.split(" "),r=0;r<i.length;r+=1)o.push({name:i[r],callback:n,originalCallback:n,context:a});else"object"==typeof t&&t&&Object.keys(t).forEach(i=>{o=o.concat(e(i,t[i],a||n))});return o},c=function(e,t,n,a){const i=s(e,t,n);for(let r=0;r<i.length;r+=1)a(i[r])},l=function(e,t){const n=o(e,!0);void 0===n[t.name]?n[t.name]=[t]:n[t.name].push(t)},d=function(e,t,n){const a=r(e,!0);for(let i=0;i<n.length;i+=1){const e=n[i];if(!e.callback)return;l(t,e),a.push({obj:t,event:e,originalCallback:e.originalCallback})}};n.on=function(e,t,n){return c(e,t,n,e=>{e.callback&&l(this,e)}),this},n.off=function(e,t,n){const a=o(this,!1);if(void 0===a)return this;const i=Object.keys(a);let r=s(e,t,n);0===r.length&&(r=[{name:null,callback:t,context:n}]);for(let o=0;o<r.length;o+=1){const e=r[o];let t;t=e.name?[e.name]:i;for(let n=0;n<t.length;n+=1){const i=t[n],r=a[i];if(void 0!==r){const t=[];for(let n=0;n<r.length;n+=1){const a=r[n];e.callback&&a.originalCallback!==e.callback&&a.callback!==e.callback?t.push(a):e.context&&a.context!==e.context&&t.push(a)}a[i]=t}}}return this},n.trigger=function(e,...t){const n=o(this,!1);if(void 0===n)return this;let a,i,r;const s=e.split(" ");for(a=0;a<s.length;a+=1){let e=[];const o=n.all,c=s[a],l=n[c];if(void 0!==l)for(i=0;i<l.length;i+=1)if("function"==typeof(r=l[i]).callback)e.push({fn:r.callback,context:r.context||this,args:t});else if(r.callback)throw new Error("Callbacks must be functions");if(void 0!==o)for(i=0;i<o.length;i+=1)if("function"==typeof(r=o[i]).callback)e.push({fn:r.callback,context:r.context||this,args:[c].concat(t)});else if(r.callback)throw new Error("Callbacks must be functions");for(i=0;i<e.length;i+=1)(r=e[i]).fn.apply(r.context,r.args);e=[]}return this},n.once=function(e,t,n){return c(e,t,n,e=>{"function"==typeof e.originalCallback&&(e.callback=a(e.originalCallback,()=>{this.off(e.name,e.callback,e.context)}),l(this,e))}),this},n.listenTo=function(e,t,n){return d(this,e,s(t,n,this)),this},n.listenToOnce=function(e,t,n){const i=s(t,n,this).map(t=>(t.originalCallback&&(t.callback=a(t.originalCallback,()=>{this.stopListening(e,t.name,t.originalCallback,t.context)})),t));return d(this,e,i),this},n.stopListening=function(e,t,n){const a=r(this,!1);let o,c,l;if(!a)return this;const d=[],u=void 0===t?void 0:s(t,n,this);for(c=0;c<a.length;c+=1)if((o=a[c]).obj!==e&&e)d.push(o);else if(t){let e=!1;for(l=0;l<u.length&&!1===e;l+=1){const t=u[l];o.event.name===t.name&&o.originalCallback===t.callback&&(e=!0)}e?o.obj.off(o.event.name,o.event.callback,o.event.context):d.push(o)}else o.obj.off(o.event.name,o.event.callback,o.event.context);return i(this,d),this},e.exports=n},FZoo:function(e,t,n){var a=n("MrPd"),i=n("4uTw"),r=n("wJg7"),o=n("GoyQ"),s=n("9Nap");e.exports=function(e,t,n,c){if(!o(e))return e;for(var l=-1,d=(t=i(t,e)).length,u=d-1,h=e;null!=h&&++l<d;){var p=s(t[l]),m=n;if(l!=u){var f=h[p];void 0===(m=c?c(f,p,h):void 0)&&(m=o(f)?f:r(t[l+1])?[]:{})}a(h,p,m),h=h[p]}return e}},FfPP:function(e,t,n){var a=n("idmN"),i=n("hgQt");e.exports=function(e,t){return e=Object(e),a(e,t,(function(t,n){return i(e,n)}))}},"G35+":function(e,t,n){var a=n("AHhP"),i=n.n(a),r=n("1inl"),o=n("fZ0m"),s=n("Ye/N"),c=n("kmwA"),l=n("BlMG");const d={scope:"profile email",client_id:c.a.settings.GPLUS_CLIENT_ID,app_package_name:c.a.settings.GPLUS_APP_PACKAGE_NAME,access_type:"offline",cookie_policy:"single_host_origin"},u=e=>(Object(l.a)("unauth_web.gapi_auth2_load.success"),e()),h=e=>{Object(l.a)(`unauth_web.init_google.sdk.${e}`)};var p=()=>new Promise((e,t)=>{h("start"),window.gapi.auth2?(h("exists"),window.gapi.auth2.init(d).then(()=>u(e))):(h("load"),window.gapi.load("auth2",{callback:()=>{h("load_success"),window.gapi.auth2.init(d).then(()=>u(e))},onerror:()=>{h("load_error"),t()},timeout:15e3,ontimeout:()=>{h("load_timeout"),t()}}))}),m=n("dwea"),f=n("mBfy");function g(){}let b;Object.assign(g.prototype,i.a),Object.assign(g.prototype,{connect(e,t){t=Object.assign({},{success(){},error(){},complete(){}},t),Object(l.e)(`auth_web.social_connect.${e}`),t.rerequest_facebook_email?(()=>Promise.resolve().then(n.bind(null,"UTsl")))().then(({default:e})=>{e.ensureInit(e=>{e.login(e=>{const n=e.authResponse;let a,i;n&&(a=(a=n.grantedScopes)?a.split(","):[],i=n.userID);const r=a.find(e=>"email"===e),o={id:i};"connected"===e.status&&r?t.success(o):t.error(o),t.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},f.default)}):"gplus"===e||"google"===e?o.a.get(e=>{p().then(()=>{e.auth2.getAuthInstance().grantOfflineAccess().then(e=>{t.success({one_time_code:e.code,redirect_uri:"postmessage"})}).catch(e=>{t.error(e)})})}):(()=>Promise.resolve().then(n.bind(null,"LqyK")))().then(({default:n})=>{const a=t.windowOptions||n.getWindowOptions(),i=window.open("/connect/"+e+"/","",a);if(!i)return r.a.showError(s.a._("You must enable popups!")),void t.error({network:e,alertedUpstream:!0});const o=m.a.setInterval(()=>{i.closed&&(clearInterval(o),this.handleComplete({network:e,error_message:"Window closed."}))},1e3);this.once("connect:"+e,e=>{clearInterval(o),e.error_message?t.error(e):t.success(e),t.complete()})})},complete(e){this.handleComplete(e)},handleComplete(e){const t="connect:"+e.network;if("facebook"===e.network){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}this.trigger(t,e)}}),Object.assign(g,{instance:()=>(b||(b=new g),b),FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy",DROPBOX:"dropbox"}),window.addEventListener("message",e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&g.instance().complete(e.data)});t.a=g},IUnB:function(e,t){var n="undefined"==typeof window?null:window.document,a=n?n.getElementsByTagName("head")[0]:null,i=/^https?:\/\//,r={},o={},s={},c="",l={},d=!1,u="push",h="onreadystatechangeName";function p(e,t){for(var n=0,a=e.length;n<a;++n)if(!t(e[n]))return d;return!0}function m(e,t){return p(e,(function(e){return!t(e)})),d}function f(e,t,n){e=e[u]?e:[e];var a=t&&"function"==typeof t,d=a?t:n,h=a?e.join(""):t,b=e.length;function E(e){return e.call?e():r[e]}function v(){if(!--b){if(r[h]=1,d)d();for(var e in s)p(e.split("|"),E)&&!m(s[e],E)&&(s[e]=[])}}return setTimeout((function(){m(e,(function(e){return null===e?v():l[e]?(h&&(o[h]=1),2==l[e]&&v()):(l[e]=1,h&&(o[h]=1),void g(!i.test(e)&&c?c+e+".js":e,v))}))}),0),f}function g(e,t){var i=!1,r=function(e,t){i||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout((function(){r(e,t)}),100))},o=n.createElement("script"),s=o.onload=o.onerror=o[h]=function(){i||(i=!0,o.readyState&&!/^c|loade/.test(o.readyState)||(o.onload=o[h]=null,1,l[e]=2,t()))};r(o,s),o.async=1,o.src=e,a.insertBefore(o,a.firstChild)}n&&!n.readyState&&n.addEventListenerName&&(n.addEventListenerName("DOMContentLoaded",(function e(){n.removeEventListener("DOMContentLoaded",e,d),n.readyState="complete"}),d),n.readyState="loading"),f.get=g,f.order=function(e,t,n){!function a(){var i=e.shift();e.length?f(i,a):f(i,t,n)}()},f.path=function(e){c=e},f.ready=function(e,t,n){e=e[u]?e:[e];var a,i=[];return!m(e,(function(e){r[e]||i.push(e)}))&&p(e,(function(e){return r[e]}))?t():(a=e.join("|"),s[a]||(s[a]=[]),s[a][u](t),n&&n(i)),f},f.done=function(e){f([null],e)},e.exports=f},JZM8:function(e,t,n){var a=n("FfPP"),i=n("xs/l")((function(e,t){return null==e?{}:a(e,t)}));e.exports=i},LqyK:function(e,t,n){n.r(t);var a=n("+NLT"),i=n("UTsl"),r=n("JZM8"),o=n.n(r),s=n("eOdZ"),c=n("zwad"),l=n("mBfy");const d={open(e){const t=o()(e,d._validParams),n=d._getDialogType(e),a=d.generateFbRef(),r=e.object_type&&e.object_id&&"feed"===n;let u=c.a.absolutify(e.path);const h=c.a.getQueryStringParams();if(h.ptrf&&(u=c.a.appendQueryString(u,{ptrf:h.ptrf})),r&&(u=c.a.appendQueryString(u,{fb_ref:a})),t.method=n,"feed"===t.method){const n=d.getWindowOptions(e.width||580,e.height||400);let a="http://www.facebook.com/sharer/sharer.php?u="+u;t.picture&&(a+="&picture="+t.picture),t.name&&(a+="&title="+t.name),t.description&&(a+="&description="+t.description),t.caption&&(a+="&caption="+t.caption),window.open(encodeURI(a),"sharer",n)}else"send"===t.method?t.link=u:"share"===t.method&&(t.href=u),i.default.ensureInit(n=>{n.getLoginStatus(()=>{if("send"===t.method){n.ui(t);let a,i=10;const r=setInterval(()=>{!(a=function(){const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let n=0;n<t.length;n+=1)t[n].parentNode.removeChild(t[n]);return e[0]}())&&i||(clearInterval(r),a&&d.executeMessengerCallback(a,e.callback)),i-=1},1e3)}else"share"===t.method&&n.ui(t,t=>{if(r&&t&&!t.error_message){const t=s.a.create("LogFacebookFeedShare",{});t.options={object_type:e.object_type,object_id:e.object_id,fb_ref:a},t.callCreate({showError:!1})}e.callback&&e.callback(t)})})},l.default)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const a=setInterval(()=>{"0px"!==e.style.width&&n||(clearInterval(a),e.style.width="575px"),n-=1},1e3);t&&t()},generateFbRef(){let e="";for(;e.length<20;)e+=Math.floor(65535*Math.random()).toString(16);return(l.default.id||a.a.instance.unauth_id)+":"+e},_getDialogType:e=>d._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const n=e||580,a=t||400,i=screen.width,r=screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+n+",height="+a+",left="+Math.round((i-n)/2)+",top="+(r>a?Math.round((r-a)/2):0)}};t.default=d},SNfw:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a);const r="#EFEFEF",o="#333333";function s({size:e,grayscale:t=!1}){const n=t?o:"#8e8e8e",a=t?r:"#EFEFEF";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:n,fillRule:"nonzero"},i.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}},UTsl:function(e,t,n){n.r(t);var a=n("xBNU"),i=n.n(a),r=n("eOdZ"),o=n("6tKR"),s=n("mBfy");let c=!1;const l={ensureInit(e,t=s.default,n="en_US"){o.default.load([],`//connect.facebook.net/${n}/sdk.js`,"fb"),o.default.ready("fb",()=>{this._fbCallback(e,t)}),window.fb_init=1},_fbCallback(e,t){const n=window.FB;n&&(c||(n.init({appId:i.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",e=>{l.refreshAccessToken(t)}),c=!0,window.fb_init=2),e(n))},logIn(e,t){e&&(e.getUserID()?t(e):e.login(()=>{t(e)}))},refreshAccessToken(e){e.isAuthenticated()&&e.attributes.facebook_id&&!e.isLimitedLogin()&&l.ensureInit(e=>{if(e.getUserID()){const t=e.getAccessToken();if(t){r.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}},e)}};t.default=l},WM6B:function(e,t,n){var a=n("q1tI");const i=()=>n.e("ShaveLibrary").then(n.bind(null,"eh6K"));t.a=class extends a.Component{constructor(e){var t,n,i;super(e),i={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.ref=a.createRef()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;const a=void 0===n.textContent?"innerText":"textContent",r=n[a];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):i().then(({default:a})=>{a(n,e,t)})}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,r={maxWidth:e,maxHeight:t},o=n?{display:"inline",...r}:{...r};return i?a.createElement("div",{ref:this.ref,style:{...o,overflow:"hidden"}},this.props.children):a.createElement("div",{ref:this.ref,style:o},this.props.children)}}},"XCz/":function(e,t,n){var a=n("lUXN");n("q1tI"),n("0rqB"),n("pLLR");n.d(t,"a",(function(){return a.a}))},ZdHo:function(e,t,n){n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return p}));var a=n("eOdZ");function i(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function r(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function o(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function s(e){return{type:"CONVERSATION_CREATE",payload:e}}function c(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}function l(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}function d(e,t,n){return{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}}}const u=(()=>{let e=0;return()=>e++})();function h(e,t,n){let i;const r=new Promise((o,c)=>{(i=(i,r)=>{const{text:h,pinId:p,boardId:m,userId:f,didItId:g}=t,b=r();function E(){const t=a.a.create("ConversationMessagesResource",{conversation_id:e,text:h,pin:p,board:m,user:f,user_did_it_data:g,source:n}),r=`${u()}`;t.callCreate().then(t=>{i(d(e,r,t.resource_response.data.id))}).catch(c),i(l(e,{text:h,sender:b.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:r,board:null,event_type:null,pin:p?b.pins[p]:null,type:"message",user_did_it_data:null,user:null})),o()}b.conversations.data[e]?E():a.a.create("ConversationResource",{conversation_id:e}).callGet().then(e=>{const t=e&&e.resource_response&&e.resource_response.data;i(s(t)),E()})}).getPromise=()=>r});return i}const p=(e,t,n)=>i=>a.a.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then(e=>{const t=e&&e.resource_response.data;i(r(t.id))}).catch(e=>{const t=e.message_detail||e.message||"";n(t)})},ZtJp:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a);const r="#EFEFEF",o="#333333";function s({size:e,iconColor:t,backgroundColor:n,grayscale:a=!1}){const s=t||(a?o:"#8E8E8E"),c=n||(a?r:"#EFEFEF");return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 36 36",version:"1.1"},i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:c,cx:"18",cy:"18",r:"18"}),i.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:s,fillRule:"nonzero"},i.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}},etXL:function(e,t,n){},fZ0m:function(e,t,n){const a={get(e){(()=>Promise.resolve().then(n.bind(null,"6tKR")))().then(({default:t})=>{t.load([],"https://apis.google.com/js/client:platform.js","gplus"),t.ready("gplus",()=>{e(window.gapi)})})}};t.a=a},fhk9:function(e,t,n){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o}));const a={type:"OPEN_CONVERSATIONS_DROPDOWN"},i={type:"CLOSE_CONVERSATIONS_DROPDOWN"},r=e=>({updateBadgeCount:t=>{e({type:"UPDATE_BADGE_COUNT",payload:t})}}),o=e=>({openConversationsDropdown:()=>e(a),closeConversationsDropdown:()=>e(i)})},geGc:function(e,t,n){n.r(t);var a=n("q1tI"),i=n.n(a),r=n("TSYQ"),o=n.n(r),s=n("/MKj"),c=n("Ye/N"),l=n("7w6Q"),d=n("eOdZ"),u=n("oVol"),h=n("n6mq");function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=Object(s.connect)((function({viewer:e}){return{viewerId:e.isAuth?e.id:""}}),()=>({}))(class extends a.Component{constructor(...e){super(...e),p(this,"state",{textValue:this.props.initialTextValue||""}),p(this,"handleSendMessage",()=>{this.props.onSendMessage(this.props.recipient,this.state.textValue)}),p(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})})}render(){const{isFlyout:e,onCancelDraft:t,viewerId:n}=this.props,a=this.props.recipient||{},r="conversation_share_suggestion"===a.type,o=r?(a.users||[]).filter(e=>e.id!==n):[];return i.a.createElement(h.c,{xs:{display:"flexColumn",column:12},paddingX:2},i.a.createElement(h.c,{display:"flex",alignItems:"center",paddingY:2},i.a.createElement(h.c,{paddingX:1},r?i.a.createElement(h.l,{collaborators:o.map(e=>({name:e.full_name||e.first_name,src:e.image_large_url})),size:"md"}):i.a.createElement(h.a,{name:a.full_name||a.email||" ",src:a.image_large_url,size:"md"})),i.a.createElement(h.c,{flex:"grow"},i.a.createElement(h.K,{weight:"bold"},r?o.map(e=>e.first_name||e.full_name).join(", "):a.full_name||a.email)),e?i.a.createElement(h.o,{accessibilityLabel:c.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),i.a.createElement(h.c,{xs:{display:"flexColumn",column:12},paddingY:2},i.a.createElement(h.L,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:c.a._("Add a message"),value:this.state.textValue||""}),i.a.createElement(h.c,{paddingY:1},i.a.createElement(h.d,{color:"red",onClick:this.handleSendMessage,type:"submit",text:c.a._("Send")}))))}}),f=(n("17x9"),n("xdpg"));function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends a.Component{constructor(...e){super(...e),g(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),g(this,"handleSendEmail",(e,t)=>{if(e){const n={email:e,fullName:e,id:null,imageSmallUrl:null,usernamne:null};this.props.onSendMessage(n,t)}}),g(this,"handleTextValueChange",({value:e})=>{this.setState({textValue:e})}),g(this,"handleEmailValueChange",({value:e})=>{this.setState({emailValue:e})})}render(){const{isFlyout:e,onCancelDraft:t}=this.props;return i.a.createElement(h.c,{display:"flex",direction:"column",column:12,padding:2},i.a.createElement(h.c,{display:"flex",alignItems:"center"},i.a.createElement(h.c,{flex:"grow"},i.a.createElement(h.K,{weight:"bold"},c.a._("Send to"))),e?i.a.createElement(h.o,{accessibilityLabel:c.a._("Cancel share to user","accessibility label for close button","accessibility label for close button"),icon:"cancel",onClick:t,size:"sm"}):null),i.a.createElement(h.c,{display:"flex",direction:"column"},i.a.createElement(h.c,{paddingY:1},i.a.createElement(h.L,{id:"email",onChange:this.handleEmailValueChange,placeholder:c.a._("Enter email address","Email address to send to","Email address to send to"),value:this.state.emailValue||"",rows:1})),i.a.createElement(h.L,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:c.a._("Add a message"),value:this.state.textValue||""}),i.a.createElement(h.c,{paddingY:1},i.a.createElement(h.d,{color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:c.a._("Send"),disabled:!Object(f.g)(this.state.emailValue)}))))}}n("etXL");var E=n("iS6d"),v=n("8ane"),w=n("4cpq"),y=n("zLLH"),_=n("fArA"),C=n("ZdHo"),S=n("fhk9"),k=n("U4JR"),x=n("0SCs");const O=177;var j=Object(_.compose)(Object(s.connect)(({viewer:{id:e},social:{shareSuggestions:t},shareSuggestionsResource:n},a)=>({suggestions:t[a.value]||[]}),(e,t)=>({openConversation:t=>e(Object(C.e)(t)),openConversationsDropdown:()=>e(S.b)})),Object(y.c)({name:"ShareSuggestionsResource",key:"shareSuggestionsResource",options:{field_set_key:"default"}},{allowStale:!1}),Object(y.c)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:e=>({field_set_key:"default",term:e.value||e.initialTextValue})},{allowStale:!1}))((function(e){const{onChange:t,onSendMessage:n,onShowSendDraft:a,onShowImportContacts:r,sentHistory:o,suggestions:s,value:l,viewerId:d,shareSuggestionsResource:{isLoaded:u},shareSuggestionsTypeaheadResource:{isLoaded:p}}=e,{anyEnabled:m}=Object(x.a)("web_contacts_search_show_source",""!==l&&s.length>0),{anyEnabled:g}=Object(x.a)("web_sharesheet_search_placeholder"),b=s.map((t,r)=>{const s=t.id||"string"==typeof t.email&&t.email||"",l=s in o,u=o[s]||"",p="conversation_share_suggestion"===t.type;let f=[];t.users instanceof Array&&(f=t.users);const g=p?f.filter(e=>e.id!==d):[],b=t.debug_reason&&t.debug_reason.reason,v=t.debug_reason&&t.debug_reason.readable_reason;let y="";"string"!=typeof t.full_name||t.full_name.match(/^\s*$/)?"string"!=typeof t.email||t.email.match(/^\s*$/)||(y=t.email):y=t.full_name;let _="";return"string"==typeof t.image_small_url&&(_=t.image_small_url),i.a.createElement("li",{key:r,onClick:()=>{a(t)},role:"button",tabIndex:"0"},i.a.createElement(h.c,{display:"flex",width:"100%",alignItems:"center",position:"relative","data-test-id":"sharesheet-contact-item"},i.a.createElement(h.c,{width:38,marginRight:4},p?i.a.createElement(h.l,{collaborators:g.map(e=>({name:e.full_name||e.first_name,src:e.image_small_url}))}):i.a.createElement(h.a,{name:y,src:_})),i.a.createElement(h.c,{flex:"grow",width:"100%",alignItems:"center"},i.a.createElement(h.c,{display:"flex",width:"100%",height:"100%",alignItems:"center"},i.a.createElement(h.c,{flex:"grow",alignItems:"center",width:"62%",dangerouslySetInlineStyle:{__style:{paddingRight:"4px"}}},i.a.createElement(h.K,{color:"darkGray",truncate:!0,weight:"bold"},p?g.map(e=>e.first_name||e.full_name).join(", "):y),m&&v?i.a.createElement(h.K,{size:"sm",color:"gray"},v):"string"==typeof t.username&&i.a.createElement(h.K,{size:"sm",color:"gray"},t.username)),i.a.createElement(h.c,null,l?i.a.createElement(h.P,{mouseCursor:"pointer",onTouch:({event:t})=>{t.stopPropagation(),(t=>{const{openConversationsDropdown:n,openConversation:a,isFlyout:i,onHide:r}=e;!i&&r&&r(),a(t),n()})(u)}},i.a.createElement(h.c,{display:"flex",alignItems:"center","data-test-id":"sharesheet-viewchat-link"},i.a.createElement(h.K,{color:"darkGray",size:"md",truncate:!0,weight:"bold"},c.a._("View chat","view chat with last sent item","view chat with last sent item")),i.a.createElement(h.c,{marginLeft:1},i.a.createElement(h.n,{icon:"arrow-forward",accessibilityLabel:"view chat",color:"darkGray",size:14})))):i.a.createElement(w.a,{id:l?"sharesheet-viewchat-link":"sharesheet-send-button"},i.a.createElement(h.d,{inline:!0,size:"sm",color:l?"gray":"red",disabled:l,text:l?c.a._("Sent"):c.a._("Send"),onClick:({event:a})=>{a.stopPropagation(),((t,n)=>{const{value:a}=e,i=a?1044:1039;Object(k.a)(101,{component:13029,element:i,entered_query:a,result_index:t+1,rs:n})})(r,b),n(t)}}))))),i.a.createElement(E.a.Consumer,null,e=>e?i.a.createElement(h.c,{position:"absolute",top:!0,right:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}}},i.a.createElement(h.m,{color:"blue",size:"sm"},b)):null)))}),y=0===s.length&&(""===l&&!u||""!==l&&!p),_=g?c.a._("Search by name or email","sharesheet.searchbar.placeholder","Placeholder text on search bar for searching contacts on sharesheet"):c.a._("Name or email");return i.a.createElement("div",{className:"sendShareSearchContacts"},i.a.createElement("div",{className:"SocialTypeaheadField TypeaheadField sendShare userCircleSelect"},i.a.createElement(h.c,{paddingX:3,marginBottom:1,"data-test-id":"sharesheet-search-user"},i.a.createElement(h.D,{accessibilityLabel:c.a._("Search for a name or email","sharesheet.searchbar.accesibilityLabel","accessible label"),id:"search",onChange:t,placeholder:_,size:"lg",value:l}))),i.a.createElement("div",{className:"ContactsList sendShare",style:{height:O,zIndex:1e3,overflowY:"scroll",overflowX:"hidden"}},i.a.createElement(h.c,{paddingY:y?2:0},i.a.createElement(h.G,{show:y,accessibilityLabel:c.a._("Loading Conversation Messages")})),i.a.createElement("ul",null,b,""!==l?i.a.createElement("li",{role:"button",tabIndex:"0"},i.a.createElement(v.a,{email:l,isSend:!0,isValid:Object(f.g)(l),onClick:()=>a({email:l,full_name:l}),showSendEmailText:!1})):null,""!==l?i.a.createElement("li",{onClick:r,role:"button",tabIndex:"0",style:{width:"100%"}},i.a.createElement("div",{className:"ImageBlock Module socialConnectCta"},i.a.createElement("div",{className:"left circle imageSize_sendShare"},i.a.createElement("em",null)),i.a.createElement("div",{className:"right"},i.a.createElement("h4",{className:"imageBlockContentTitle"},c.a._("Choose from contacts")),i.a.createElement("div",{className:"imageBlockContentBody"},i.a.createElement("span",null))))):null)))})),I=(n("1sx7"),n("SNfw")),L=n("UTsl"),T=n("ZtJp"),N=n("CvCA"),D=n("WM6B"),P=n("zwad"),R=n("mBfy"),F=n("XCz/"),A=n("vMqX"),M=n("udob"),B=n("joD6");const W="#EFEFEF",U="#333333";function H({size:e,grayscale:t=!1}){const n=t?U:"#FEFEFE",a=t?W:"#3B5998";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("defs",null,i.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"})),i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("g",{transform:"translate(-67.000000, -72.000000)"},i.a.createElement("g",{transform:"translate(67.000000, 72.000000)"},i.a.createElement("rect",{id:"avatar",fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),i.a.createElement("mask",{fill:"white"},i.a.createElement("use",{xlinkHref:"#path-1"})),i.a.createElement("path",{d:"M19.4725847,27.9651806 L19.4725847,19.3143216 L22.4126695,19.3143216 L22.852839,15.9428678 L19.4725847,15.9428678 L19.4725847,13.7903436 C19.4725847,12.8142291 19.7469915,12.148978 21.1642797,12.148978 L22.9719068,12.1482247 L22.9719068,9.1328326 C22.6591949,9.09181938 21.5862288,9 20.3379237,9 C17.731822,9 15.9475847,10.571141 15.9475847,13.4565463 L15.9475847,15.9428678 L13.0000424,15.9428678 L13.0000424,19.3143216 L15.9475847,19.3143216 L15.9475847,27.9651806 L19.4725847,27.9651806 Z",fill:n,mask:"url(#mask-2)"})))))}function G({size:e,grayscale:t=!1}){const n=t?U:"#FFFFFF",a=t?W:"#0DC2FF";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("defs",null,i.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"}),i.a.createElement("polygon",{id:"path-3",points:"0 15.4545455 0 0 20 0 20 15.4545455"})),i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("g",{transform:"translate(-68.000000, -51.000000)"},i.a.createElement("g",{transform:"translate(68.000000, 51.000000)"},i.a.createElement("rect",{fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),i.a.createElement("mask",{fill:"white"},i.a.createElement("use",{xlinkHref:"#path-1"}))),i.a.createElement("g",{transform:"translate(76.000000, 61.000000)"},i.a.createElement("mask",{fill:"white"},i.a.createElement("use",{xlinkHref:"#path-3"})),i.a.createElement("path",{d:"M20,1.82947907 C19.2641282,2.13978309 18.4733165,2.34950437 17.6432935,2.44382678 C18.4905081,1.96094614 19.1410805,1.19635035 19.447456,0.285332236 C18.6546692,0.732389836 17.7765097,1.05709263 16.8418742,1.23210383 C16.0933465,0.47383793 15.0269578,0 13.8468122,0 C11.5806723,0 9.74344343,1.74684262 9.74344343,3.90144184 C9.74344343,4.20722451 9.77980175,4.50500786 9.84973847,4.79054877 C6.43951864,4.62784958 3.41607228,3.07459048 1.39229672,0.714165301 C1.03910165,1.29039452 0.836753356,1.96059834 0.836753356,2.67559835 C0.836753356,4.02915271 1.56121292,5.22334672 2.66220418,5.92297413 C1.98953875,5.90273237 1.35688943,5.72723427 0.803613885,5.43501566 C0.803321263,5.45129253 0.803321263,5.46763897 0.803321263,5.48405496 C0.803321263,7.37439841 2.21771096,8.95130767 4.09480961,9.30967717 C3.75046637,9.39885219 3.38798054,9.44650031 3.01371667,9.44650031 C2.74933246,9.44650031 2.4922638,9.42208499 2.24177914,9.37652366 C2.76389041,10.926583 4.27923479,12.0545566 6.07476499,12.0860669 C4.67047076,13.1324474 2.90120341,13.7561857 0.978821464,13.7561857 C0.64764622,13.7561857 0.321006621,13.7377524 0,13.7017207 C1.81586744,14.8086874 3.97271297,15.4545455 6.28991551,15.4545455 C13.8372289,15.4545455 17.9643732,9.50952103 17.9643732,4.35385551 C17.9643732,4.1846873 17.9604228,4.01642336 17.952522,3.84913325 C18.7541607,3.29905833 19.4498701,2.61188204 20,1.82947907",fill:n,mask:"url(#mask-4)"})))))}function z({size:e,grayscale:t=!1}){const n=t?U:"none",a=t?W:"#25D366";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:n,cx:"18",cy:"18",r:"17"}),i.a.createElement("g",{fillRule:"nonzero",fill:a},i.a.createElement("path",{d:"M18,0 C27.945,0 36,8.055 36,18 C36,27.945 27.945,36 18,36 C8.055,36 0,27.945 0,18 C0,8.055 8.055,0 18,0 Z M18,28.5075 C23.805,28.5075 28.5075,23.805 28.5075,18 C28.5075,12.195 23.805,7.4925 18,7.4925 C12.195,7.4925 7.4925,12.195 7.4925,18 C7.4925,20.07 8.1,21.9825 9.135,23.6025 L7.4925,28.5075 L12.3975,26.865 C14.0175,27.9 15.93,28.5075 18,28.5075 Z M23.4,20.34 C23.6925,20.4975 23.895,20.565 23.9625,20.7 C24.03,20.835 24.03,21.42 23.7825,22.1175 C23.535,22.815 22.5675,23.4 21.8025,23.5575 C21.2625,23.67 20.565,23.76 18.2475,22.7925 C15.2775,21.555 13.3425,18.495 13.2075,18.2925 C13.05,18.09 11.9925,16.695 11.9925,15.2325 C11.9925,13.7475 12.735,13.05 13.0275,12.735 C13.275,12.4875 13.68,12.375 14.085,12.375 C14.1975,12.375 14.31,12.375 14.4225,12.375 C14.715,12.3975 14.8725,12.42 15.0525,12.8925 C15.3,13.4775 15.9075,14.94 15.975,15.0975 C16.0425,15.255 16.11,15.4575 16.02,15.66 C15.9075,15.8625 15.84,15.9525 15.6825,16.11 C15.5475,16.29 15.4125,16.425 15.255,16.605 C15.12,16.7625 14.9625,16.9425 15.1425,17.235 C15.3,17.5275 15.9075,18.5175 16.785,19.305 C17.91,20.3175 18.8325,20.6325 19.1475,20.7675 C19.395,20.88 19.6875,20.8575 19.8675,20.655 C20.0925,20.4075 20.3625,20.0025 20.655,19.5975 C20.8575,19.305 21.1275,19.2825 21.375,19.3725 C21.645,19.485 23.1075,20.205 23.4,20.34 Z"}))))}function V({size:e,grayscale:t=!1}){const n=t?U:"#8e8e8e",a=t?W:"#EFEFEF";return i.a.createElement("svg",{width:e,height:e,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{fill:"none",fillRule:"evenodd"},i.a.createElement("circle",{fill:a,cx:"22",cy:"22",r:"22"}),i.a.createElement("g",{transform:"translate(12 12)",fill:n},i.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),i.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),i.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),i.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),i.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),i.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),i.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}var K=n("nGHF");function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=4e3,Y=()=>n.e("clipboardLibrary").then(n.t.bind(null,"sxGJ",7)),X=44,Q={backgroundColor:"#ffffff",border:"none",padding:0},$=({text:e})=>i.a.createElement(h.K,{align:"center",size:"sm"},i.a.createElement(D.a,{maxWidthPx:128,maxHeightPx:50},e)),J=({children:e})=>i.a.createElement(h.c,{display:"flex",direction:"column",alignItems:"center",width:X+26},e);class ee extends i.a.Component{constructor(...e){super(...e),q(this,"state",{showSwapText:this.props.showSwapText})}UNSAFE_componentWillReceiveProps({showSwapText:e}){this.state.showSwapText!==e&&this.setState({showSwapText:e})}render(){const{showSwapText:e}=this.state;return e&&setTimeout(()=>{this.setState({showSwapText:!1})},3e3),i.a.createElement(J,null,i.a.createElement("button",{style:Q,"aria-label":c.a._("Share link"),onClick:()=>{this.props.onClick()},ref:this.props.setClipboard},i.a.createElement(T.a,{size:X})),e?i.a.createElement($,{text:c.a._("Link copied!","Notification link was copied to clipboard","Notification link was copied to clipboard")}):i.a.createElement($,{text:c.a._("Copy link","Share via copy/paste link","Share via copy/paste link")}))}}var te=Object(_.compose)(A.a,B.a,K.c)(class extends a.Component{constructor(...e){super(...e),q(this,"state",{Clipboard:null,invitePath:"",whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1,showSwapText:!1}),q(this,"setClipboard",e=>{const{Clipboard:t}=this.state;this.copyButtonRef=e,e&&t&&new t(e,{text:()=>this.state.invitePath}).on("error",e=>{throw new Error("<ShareSocialBar /> error: copy command failed")})}),q(this,"mounted",!1),q(this,"logShareInviteLink",()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(M.a.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}),q(this,"createShareInviteLink",()=>{const e=this.getShareOptions(12),{inviteData:t}=this.state;t||M.a.createShareInviteData(e).then(e=>{const t=e.invite_url;t?this.setState({invitePath:t,inviteData:e}):this.setState({inviteData:e})})}),q(this,"selectText",e=>{e.target.select()}),q(this,"showToastMessage",(e,t)=>{const{toastManagerContext:n}=this.props;e?(this.logShareInviteLink(),n.showOneToast(({onHide:e})=>i.a.createElement(N.a,{duration:Z,onHide:e,text:c.a._("Link copied to clipboard!","toast message to confirm if users copied the url successfully","toast message to confirm if users copied the url successfully")})),"hide"===t&&this.props.onHide()):n.showOneToast(({onHide:e})=>i.a.createElement(N.a,{duration:Z,onHide:e,text:[c.a._("Error!"),c.a._("Please try again","toast message to confirm if users copied the url unsuccessfully","toast message to confirm if users copied the url unsuccessfully")]}))}),q(this,"copyButtonRef",null)}componentDidMount(){this.mounted=!0,this.state.whatsappInviteData||this.getWhatsAppURL(),this.state.inviteData||this.createShareInviteLink(),Y().then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))})}componentWillUnmount(){this.mounted=!1}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getSendDisplayText(e){switch(e){case u.a.BOARD:return c.a._("Share this board","social media sharing","social media sharing");case u.a.PIN:return c.a._("Share this Pin","social media sharing","social media sharing");case u.a.PINNER:return c.a._("Share this profile","social media sharing","social media sharing");default:return""}}getSendDisplayTextExperiment(e){switch(e){case u.a.BOARD:return c.a._("Send this board","Sharesheet.ShareSocialBar","social media sharing board");case u.a.PIN:return c.a._("Send this Pin","Sharesheet.ShareSocialBar","social media sharing Pin");case u.a.PINNER:return c.a._("Send this profile","Sharesheet.ShareSocialBar","social media sharing pinner profile");default:return""}}getWhatsAppURL(){const e=this.getShareOptions(10);M.a.createShareInviteData(e).then(e=>{const t=e.message;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+P.a.absolutify(this.props.sharedObject.url)})})}checkWritePermissions(){return!!R.default.isWriteBanned()}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e&&(this.openEmailDialog(),t=258),this.props.onExternalSend&&this.props.onExternalSend(),Object(k.a)(101,{component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}getFacebookSDK(e){L.default.ensureInit(t=>e(t))}openFacebookDialog(){this.getFacebookSDK(e=>{L.default.logIn(e,()=>{M.a.shareFacebookInvite(this.getShareOptions(5))})})}openFbMessengerDialog(){this.getFacebookSDK(e=>{L.default.logIn(e,()=>{M.a.shareFbMessengerInvite(this.getShareOptions(6))})})}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(M.a.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink(),this.setState({showSwapText:!0})}openTwitterDialog(){M.a.shareTwitterInvite(this.getShareOptions(9))}isPincodeEnabled(){const{sharedObject:e,viewer:t,onCreatePincodeClick:n}=this.props;return n&&(e.type===u.a.BOARD||[u.a.PINNER,u.a.USER].includes(e.type)&&t.isAuth&&(e.id===t.id||t.isEmployee))}renderShareOptions(e){return i.a.createElement("div",{className:"shareOptions"},i.a.createElement(h.c,{display:"flex",justifyContent:"around",marginBottom:2},i.a.createElement(J,null,i.a.createElement("button",{style:Q,"aria-label":c.a._("Share on WhatsApp"),onClick:()=>this.handleSocialShareClick("whatsapp")},i.a.createElement("a",{href:this.state.whatsappURL,target:"_blank",rel:"noopener noreferrer"},i.a.createElement(z,{size:X}))),i.a.createElement($,{text:c.a._("WhatsApp","WhatsApp App","WhatsApp App")})),i.a.createElement(J,null,i.a.createElement("button",{style:Q,"aria-label":c.a._("Share on Facebook"),onClick:()=>this.handleSocialShareClick("facebook")},i.a.createElement(H,{size:X})),i.a.createElement($,{text:c.a._("Facebook","Facebook App","Facebook App")})),i.a.createElement(J,null,i.a.createElement("button",{style:Q,"aria-label":c.a._("Share on Twitter"),onClick:()=>this.handleSocialShareClick("twitter")},i.a.createElement(G,{size:X})),i.a.createElement($,{text:c.a._("Twitter","Twitter App","Twitter App")})),i.a.createElement(J,null,this.renderEmail())),i.a.createElement(h.c,{display:"flex"},e))}renderSocialButtons(){const e=this.isPincodeEnabled(),{showSwapText:t}=this.state,n=[...e?[i.a.createElement(J,{key:"pincode"},i.a.createElement("button",{style:Q,"aria-label":c.a._("Create Pincode","Menu option in the share menu","Menu option in the share menu"),onClick:()=>this.handleSocialShareClick("pincode")},i.a.createElement(V,{size:X})),i.a.createElement($,{text:c.a._("Pincode","Share via pincode","Share via pincode")}))]:[],i.a.createElement(ee,{key:"copylink",showSwapText:t,onClick:()=>this.handleSocialShareClick("copylink"),setClipboard:this.setClipboard}),...this.renderBlocks()].filter(e=>!!e);return this.renderShareOptions(i.a.createElement(a.Fragment,null,i.a.createElement(h.c,{display:"flex",width:"100%",justifyContent:"around"},n.slice(0,2)),i.a.createElement(h.c,{display:"flex",width:"100%",justifyContent:"around"},n.slice(2,4))))}renderEmail(){return i.a.createElement(J,{key:"email"},i.a.createElement(h.c,{display:"inlineBlock"},i.a.createElement(h.P,{onTouch:()=>this.handleSocialShareClick("email"),fullWidth:!1},i.a.createElement(I.a,{size:X}))),i.a.createElement($,{text:c.a._("Email","Share via email","Share via email")}))}renderBlocks(){return[i.a.createElement(J,{key:"blank-1"},i.a.createElement(h.c,{display:"inlineBlock",width:X,height:X})),i.a.createElement(J,{key:"blank-2"},i.a.createElement(h.c,{display:"inlineBlock",width:X,height:X}))]}render(){const{sharedObject:e,showBoldHeader:t}=this.props;return i.a.createElement(a.Fragment,null,i.a.createElement(F.a,{name:"web_sharesheet_bold_header"},({group:n})=>{const a=n.startsWith("enabled_regular"),r=n.startsWith("enabled_bold"),o=r?"center":"start";return i.a.createElement(h.c,{dangerouslySetInlineStyle:{__style:{paddingTop:"12px",paddingLeft:r?"0px":"12px"}},display:"flex",justifyContent:o,alignItems:o,alignContent:o},i.a.createElement(h.K,{weight:r||t?"bold":"normal",size:r?"lg":"md"},a||r?this.getSendDisplayTextExperiment(e.type):this.getSendDisplayText(e.type)))}),i.a.createElement("div",{className:"ShareSocialBar"},this.renderSocialButtons()))}});var ne=Object(s.connect)(null,e=>({createConversation:t=>e(Object(C.b)(t)),sendMessage:t=>e(t)}))((function(e){const[t,n]=Object(a.useState)(!1),[r,o]=Object(a.useState)(null),[s,u]=Object(a.useState)({}),[p,f]=Object(a.useState)(""),[g]=Object(a.useState)(""),{showOneToast:E}=Object(K.b)(),{anyEnabled:v}=Object(x.a)("web_sharesheet_remove_subheader"),{anyEnabled:w}=Object(x.a)("web_sharesheet_default_suggestions"),y=(t,a)=>{n(!1),e.onMessageSent(),((t,n)=>{const{sharedObject:a}=e,i=a.id;l.a.increment("web.sharesheet.internal.send",1,{status:"success"}),Object(k.a)(180,{element:276,objectId:i,conversation_id:t,pin_id:n})})(t,a)},_=async(t,n,a,r)=>{const{createConversation:o,sharedObject:c,sendType:h}=e,p=c.id,m=d.a.create("ConversationsResource",{[h]:p,emails:n,user_ids:t,text:a});try{const e=await m.callCreate(),a=e&&e.resource_response.data;o(a),y(a.id,"pin"===h?p:null),u({...s,[t.length>0?t:n]:a.id})}catch(f){l.a.increment("web.sharesheet.internal.send",1,{status:"fail"}),f.message_detail&&E(({onHide:e})=>i.a.createElement(N.a,{color:"red",duration:5e3,onHide:e,text:f.message_detail}))}},S=(t,n,a=!1)=>{"conversation_share_suggestion"===t.type?((t,n,a)=>{const{sendMessage:i,sharedObject:r,sendType:o}=e;let c;switch(o){case"pin":c=Object(C.g)(t,{text:n,pinId:r.id});break;case"board":c=Object(C.g)(t,{text:n,boardId:r.id});break;case"did_it":c=Object(C.g)(t,{text:n,didItId:r.id});break;case"user":case"pinner":c=Object(C.g)(t,{text:n,userId:r.id})}c&&(i(c),c.getPromise().then(()=>{y(t,"pin"===o?r.id:null)}),u({...s,[t]:t}))})(t.id,n):"contact_share_suggestion"!==t.type&&"user_share_suggestion"!==t.type&&"user"!==t.type||!t.username?_([],[t.email],n):_([t.id],[],n),Object(k.a)(101,{component:56,element:276})},O=()=>{n(!1),o(null)},{onCreatePincodeClick:I,onShowImport:L,sendType:T,sharedObject:D,isFlyout:P,onHide:R,onExternalSend:F}=e,A=c.a._("Or send to","sendObject.internalShareHeader.subheader","sharesheet, send (pin, profile, board) on either Pinterest or email"),M="email"===r?i.a.createElement(b,{isFlyout:P,objectId:D.id,objectType:T,onCancelDraft:O,onHide:R,onSendMessage:S,initialTextValue:g}):i.a.createElement(m,{isFlyout:P,objectId:D.id,objectType:T,onCancelDraft:O,onHide:R,onSendMessage:S,recipient:"object"==typeof r?r:void 0,initialTextValue:g});return t?M:i.a.createElement(h.c,null,i.a.createElement(te,{onCreatePincodeClick:I,sharedObject:D,onEmailIconClick:()=>{n(!0),o("email")},onHide:R,onExternalSend:F}),i.a.createElement(h.c,null,!v&&i.a.createElement(h.c,{paddingY:3,paddingX:3},i.a.createElement(h.c,{display:"flex",flex:"grow",justifyContent:"start"},i.a.createElement(h.K,{size:"md"},A))),i.a.createElement(j,{onChange:({value:e})=>{f(e),Object(k.a)(4113,{component:13029,element:1043})},onSendMessage:(e,t)=>{S(e,t,!0)},onShowImportContacts:L,onShowSendDraft:e=>{n(!0),o(e)},sentHistory:s,value:p,isFlyout:P,onHide:R,initialTextValue:w?"default":""})))})),ae=n("+zF7"),ie=n("v/Q4");const re=["facebook","google","twitter"];function oe(e){const t=o()("SocialNetworkConnectButton","listItem","sendShare",e.network),n=(a=e.network,r=e.email,"facebook"===a?c.a._("Friends who are on Pinterest"):"google"===a&&r&&-1!==r.indexOf("@gmail")?r:null);var a,r;return i.a.createElement("a",{onClick:e.onClick,role:"button"},i.a.createElement("div",{className:t},i.a.createElement("em",{className:"icon"}),i.a.createElement("div",{className:"networkInfo"},i.a.createElement("h4",{className:"title"},function(e){return"facebook"===e?c.a._("Facebook"):"twitter"===e?c.a._("Twitter"):"google"===e?c.a._("Google"):c.a._("Other")}(e.network)),n?i.a.createElement("div",{className:"subtitle"},n):null)))}function se({onBack:e}){const t=Object(ie.a)(),n=t.isAuth?t.email:null,a=re.filter(e=>!t.isAuth||!1===t.socialNetwork[e].connected);return i.a.createElement("div",{className:"SocialConnectPanel sendShare"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"backNav"},i.a.createElement("a",{onClick:e,role:"button"},i.a.createElement("span",{className:"icon"}),i.a.createElement("span",{className:"label"},c.a._("Back")))),i.a.createElement("div",{className:"prompt"},c.a._("Upload contacts from..."))),i.a.createElement("ul",{className:"socialConnectOptions"},a.map(e=>i.a.createElement("li",{style:{borderLeft:"none"},key:e},i.a.createElement(oe,{email:n,network:e,onClick:()=>(function(e){ae.a.instance().handleConnect(e,!0,{})})(e)})))))}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return de}));const le="Module SendObjectBase sendShare";class de extends a.Component{constructor(...e){super(...e),ce(this,"state",{showImportContacts:!1,isMessageSent:!1}),ce(this,"handleSelectImportContacts",()=>{this.setState({showImportContacts:!0})}),ce(this,"handleShowSendObject",()=>{this.setState({showImportContacts:!1})}),ce(this,"handleObjectSent",()=>{this.setState({isMessageSent:!0})})}componentDidMount(){Object(k.a)(7120,{objectId:this.props.sharedObject.id,view:this.props.viewType,viewParameter:this.props.viewParameter})}componentWillUnmount(){const{isMessageSent:e}=this.state;Object(k.a)(7121,{objectId:this.props.sharedObject.id,view:this.props.viewType,viewParameter:this.props.viewParameter});const t=e?7493:7492;Object(k.a)(t,{view:this.props.viewType,viewParameter:this.props.viewParameter})}renderImportContacts(){const{isFlyout:e}=this.props,t=e?le:"";return i.a.createElement("div",{className:t},i.a.createElement(se,{onBack:this.handleShowSendObject}))}renderSendObject(){const{classNames:e,isFlyout:t,onCreatePincodeClick:n,onExternalSend:a,onHide:r,sendType:s,sharedObject:c}=this.props,l=o()(le,e,"flippedSharing","fullWidth");return i.a.createElement("div",{className:l,style:{overflowY:"hidden",overflow:"hidden"},onClick:e=>{e&&e.stopPropagation&&e.stopPropagation()}},i.a.createElement(ne,{isFlyout:t,onCreatePincodeClick:n,onHide:r,onShowImport:this.handleSelectImportContacts,onMessageSent:this.handleObjectSent,onExternalSend:a,sendType:s,sharedObject:c}))}render(){const{showImportContacts:e}=this.state;return e?this.renderImportContacts():this.renderSendObject()}}ce(de,"defaultProps",{classNames:"",isFlyout:!1})},iS6d:function(e,t,n){var a=n("q1tI"),i=n.n(a);t.a=i.a.createContext(!1)},idmN:function(e,t,n){var a=n("ZWtO"),i=n("FZoo"),r=n("4uTw");e.exports=function(e,t,n){for(var o=-1,s=t.length,c={};++o<s;){var l=t[o],d=a(e,l);n(d,l)&&i(c,r(l,e),d)}return c}},joD6:function(e,t,n){var a=n("/MKj");t.a=Object(a.connect)(({viewer:e})=>({viewer:e}))},lUXN:function(e,t,n){n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("0rqB"),o=n("pLLR");function s({activate:e,children:t,isEligible:n,name:a}){return i.a.createElement(o.a,null,o=>i.a.createElement(r.a,{activate:e,activateExperiment:e=>o.experiments.v2ActivateExperiment(e)||"",group:o.experiments.v2GetGroup(a)||"",isEligible:n,name:a},t))}},udob:function(e,t,n){var a=n("LqyK"),i=n("eOdZ"),r=n("4dcN"),o=n("zwad"),s=n("mBfy");const c={};c.open=function(e,t,n){const a=function(e,t){const n=screen.width,a=screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(a>t?Math.round((a-t)/2):0)}(t,n);window.open(e,void 0,a)},c.shrinkWrap=function(){!function(e){const t=document.documentElement;let n=t.scrollWidth-t.clientWidth,a=t.scrollHeight-t.clientHeight;e&&(n=Math.max(n,0),a=Math.max(a,0)),s.default.isAuthenticated()||(a=340),window.resizeBy(n,a)}(!1)};var l=c;const d={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){const t=e.ga_category||"share_twitter";r.a.trackEvent(t,"click");const n=d._getWindowUrl(e.tweet_path,e.tweet_text);l.open(n,d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>o.a.appendQueryString("https://twitter.com/intent/tweet",{via:"pinterest",url:e?o.a.absolutify(e):void 0,text:t||void 0})};var u=d;const h={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const n=this._convertToInviteObject(e.object_type),a=e.invite_channel,r=null==e.invite_category?3:e.invite_category,o=e.object_id;return i.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:r,invite_object:n,invite_channel:a},invite_code:t,object_id:o}).callCreate()},createAndLogShareInvite:e=>h.createShareInviteData(e).then(t=>(h._logShareInvite(e,t.invite_code),Promise.resolve(t)),e=>Promise.reject(e)),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),n=e.invite_channel,a=null==e.invite_category?3:e.invite_category,r=e.object_id;return i.a.create("CreateExternalInviteResource",{invite_type:{invite_category:a,invite_object:t,invite_channel:n},object_id:r}).callCreate().then(e=>Promise.resolve(e.resource_response.data),e=>Promise.reject(e))},logShareInvite(e,t){t&&h._logShareInvite(e,t.invite_code)},shareFacebookInvite:e=>h.createShareInviteData(e).then(t=>{const n=t.invite_url,i=t.invite_code;return n&&a.default.open({type:"share",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&!t.error_message&&h._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e)),shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return h.createShareInviteData(e).then(n=>{const a=n.invite_url,i=n.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),a&&u.openDialog({tweet_path:a,tweet_text:r}),h._logShareInvite(e,i),Promise.resolve(n)},e=>Promise.reject(e))},shareFbMessengerInvite:e=>h.createShareInviteData(e).then(t=>{const n=t.invite_url,i=t.invite_code;return n&&a.default.open({type:"send",object_type:e.object_type,object_id:e.object_id,name:e.name,caption:t.title,description:e.description,path:n,picture:e.picture,callback(t){t&&t.success&&h._logShareInvite(e,i)}}),Promise.resolve(t)},e=>Promise.reject(e))};t.a=h},"v/Q4":function(e,t,n){n.d(t,"a",(function(){return i}));var a=n("/MKj");function i(){return Object(a.useSelector)(({viewer:e})=>e)}},vMqX:function(e,t,n){n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),r=n("zir5"),o=n("17x9"),s=n.n(o),c=n("pLLR");s.a.instanceOf(r.a);function l(e){function t(t){const{experiments:n}=Object(c.d)();return i.a.createElement(e,Object.assign({experiments:n},t))}return t.displayName=`WithExperiments(${String(e.displayName||e.name)})`,t}},zLLH:function(e,t,n){n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p}));var a=n("q1tI"),i=n("/MKj"),r=n("ITT5"),o=n("7w6Q"),s=(n("17x9"),n("T+ZI")),c=n("Wer7");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="-end-";function u(e={},t){return Object(r.a)("function"==typeof e?e(t):e)}function h(e={},t){return"function"==typeof e?e(t):e}function p(e,t={}){const n=e.key;function r(t){const a={};let i,r,c,l,h={fetching:a,data:a};const p={};function m(a,s,d){a&&(i=a),s&&(r=s),d&&(c=d);let u=t;return i&&i.dispatch||((u=(...n)=>{var a,i,r;const s=null==n?void 0:null===(a=n[0])||void 0===a?void 0:a.type;return("RESOURCE_FETCH"===s||"RESOURCE_PREFETCH_READ"===s||"RESOURCE_FETCH_MORE"===s)&&(null==n?void 0:null===(i=n[0])||void 0===i?void 0:null===(r=i.payload)||void 0===r?void 0:r.name)===e.name||o.a.increment("webapp.withResource.access-dispatch",.1,{dispatchArgs:JSON.stringify(n),resource:e.name,key:e.key,level:"warn"}),t(...n)}).originalDispatch=t),l={...i,dispatch:u,[n]:r,...c}}return function({resources:t,history:n},r){const{fetching:c,data:f}=t,g=!(i&&Object(s.a)(i,r)),b=!(c===h.fetching&&f===h.data);if(!g&&!b&&l)return l;const E=u(e.options,r);if(g&&!b&&l)return m(r);const v=c[e.name]||a,w=h.fetching[e.name]||a,y=f[e.name]||a,_=h.data[e.name]||a;p[e.name]||(0===Object.keys(y).length?o.a.increment("webapp.withResource.no-cache",.05,{resource:e.name,cache_size:0,level:"warn",v:2,xFoundKeys:null,xExpectedKey:E}):E in y?o.a.increment("webapp.withResource.cache-hit",.05,{resource:e.name,cache_size:Object.keys(y).length,level:"success",v:2}):o.a.increment("webapp.withResource.populated-cache-miss",.05,{resource:e.name,cache_size:Object.keys(y).length,level:"error",v:2,xFoundKeys:JSON.stringify(Object.keys(y)),xExpectedKey:E})),p[e.name]=!0;const C=v!==w||y!==_||v[E]!==w[E]||y[E]!==_[E];if(!g&&!C&&l)return l;if(g&&!C&&l)return m(r);h={fetching:c,data:f};const{data:S,error:k,nextBookmark:x,isPrefetch:O,prefetchHasBeenRead:j}=y[E]||{},I=Boolean(v[E]),L=Boolean(y[E]);return m(r,{data:S,error:k,isAtEnd:L&&!I&&x===d,isFetching:I,isLoaded:L,nextBookmark:x,isPrefetch:O,prefetchHasBeenRead:j},{__internal_history:n})}}return function(o){class s extends a.Component{constructor(...n){super(...n),l(this,"state",{isRefreshing:!1}),l(this,"optionsKey",u(e.options,this.props)),l(this,"fetchDisabled",e=>!!t.dangerouslyDisableFetch&&t.dangerouslyDisableFetch(e||this.props)),l(this,"loadData",n=>{this.fetchDisabled(n)||n.dispatch(Object(c.a)(e.name,h(e.options,n),t.headers,t.traceLoggerHandlerName))}),l(this,"fetchMore",()=>{const{dispatch:n}=this.props;this.fetchDisabled()||n(Object(c.d)(e.name,h(e.options,this.props),t.headers,t.traceLoggerHandlerName))}),l(this,"refreshData",()=>{this.fetchDisabled()||(this.loadData(this.props),this.setState({isRefreshing:!0}))})}UNSAFE_componentWillMount(){const{dispatch:a,__internal_history:i,[n]:r}=this.props;r.isLoaded&&t.enabledRouteRefresh&&i.current&&"POP"!==i.current.action&&!this.fetchDisabled()?this.setState({isRefreshing:!0}):r.isLoaded&&i.current&&"POP"!==i.current.action&&t.acceptPrefetch&&r.isPrefetch&&!r.prefetchHasBeenRead&&!this.fetchDisabled()&&a(Object(c.h)(e.name,h(e.options,this.props)))}componentDidMount(){const{[n]:e}=this.props,{isRefreshing:a}=this.state;!1!==t.allowStale&&e.isLoaded&&!a||this.loadData(this.props)}UNSAFE_componentWillReceiveProps(t){const{[n]:a}=this.props,{isRefreshing:i}=this.state,r=u(e.options,t);r!==this.optionsKey&&(this.loadData(t),this.optionsKey=r),i&&a.data!==t[n].data&&this.setState({isRefreshing:!1})}render(){const{[n]:e}=this.props,{isRefreshing:t}=this.state;e.fetchMore=this.fetchMore,e.refreshData=this.refreshData,e.isRefreshing=t;const{__internal_history:i,...r}=this.props;return a.createElement(o,r)}}return l(s,"WrappedComponent",o),l(s,"displayName",`WithResource[${e.name}](${o.displayName||o.name||""})`),Object(i.connectAdvanced)(r)(s)}}}}]);
//# sourceMappingURL=pjs-SendObjectWrapperCommon-e5773c7d04860daf35b3.mjs.map
